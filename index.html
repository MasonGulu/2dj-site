<!DOCTYPE html>
<html>
  <head>
    <title>2DJ Converter</title>
    <link rel="stylesheet" href="index.css">
  </head>
  <body>
    <div>
      <label for="imageInput">Input image:</label>
      <input type="file" id="imageInput" name="imageInput" accept="image/*"/>
    </div>
    <div>
      <label for="ditherType">Dither Type</label>
      <select id="ditherType">
        <option value="">None</option>
        <option value="FloydSteinberg">Floyd Steinberg</option>
        <option value="FalseFloydSteinberg">False Floyd Steinberg</option>
        <option value="Stucki">Stucki</option>
        <option value="Atkinson">Atkinson</option>
        <option value="Jarvis">Jarvis</option>
        <option value="Burkes">Burkes</option>
        <option value="Sierra">Sierra</option>
        <option value="TwoSierra">Two Sierra</option>
        <option value="SierraLite">Sierra Lite</option>
      </select>
      <input type="checkbox" id="serpentineDither">
      <label for="serpentineDither">Serpentine Dither</label>
    </div>
    <div>
      <input type="radio" id="onepage" name="pageInput" value="onepage">
      <label for="onepage">Scale to one page (128x128).</label><br>
      <input type="radio" id="manypages" name="pageInput" value="manypages">
      <label for="manypages">Scale to closest page size. </label><br>
      <input type="radio" id="specpages" name="pageInput" value="specpages">
      <label for="specpages">Scale to pages:</label>
      <input type="number" min="1" max="50" name="pagesx" id="pagesx" value="1">
      <input type="number" min="1" max="50" name="pagesy" id="pagesy" value="1"><br>
      <input type="checkbox" id="zippedFile" name="zippedInput" value="true">
      <label for="zippedFile">Export as zipped file</label>
    </div>
    <div>
      <button id="process">Process</button>
      <button id="save">Save</button>
    </div>
    <div>
      <label id="scaledLabel"></label>
    </div>
    <div>
      <img id="image" hidden>
      <canvas id="canvas" width="128" height="128" hidden></canvas>
      <img id="processedImage">
      <canvas id="exportCanvas" width="128" height="128"></canvas>
      <a id="downloadAnchorElem" style="display:none"></a>
    </div>
    <div>
      <p>
        When this exports a single file it'll be in the .2dj file format.<br>
        Whenever this exports multiple pages without the zipped file checkbox checked it'll export it as a .2dja file. This is a JSON file of a specific format, which is as follows.<br>
        {pages: JSON array of 2dj JSON objects, width: integer pages wide, height: integer pages tall, title: string filename}<br>
        Source code can be found <a href="https://github.com/MasonGulu/2dj-site">here</a>
      </p>
    </div>
    <script src="rgbquant.js"></script>
    <script src="jszip.min.js"></script>
    <script src="index.js"></script>
  </body>
</html>
